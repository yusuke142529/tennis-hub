テニス・パーソナリティAI診断 仕様書

1. 概要

本機能は、ユーザーが一連の質問（A～Iカテゴリー）に回答することで、その回答内容をもとに生成AIが「テニスにおけるパーソナリティタイプ」を分析・特定し、ユーザーに「ネーミング（タイプ名）」と「詳細な戦術・性格的特徴に関するフィードバック」を提示します。さらに、分析結果を活用し、追加情報（キャラクターの性別・好きな動物）をユーザーから取得して、画像生成AIへプロンプトを送信することで「オリジナルテニスキャラクター」を生成する流れを提供します。

2. ユースケースの流れ
	1.	初期質問回答ステップ（テキストベース）
	•	カテゴリーA～Iまで、各カテゴリー内に複数の質問がある。
	•	質問はユーザーが選択肢（1～4が定型回答、5が自由記述回答）から回答する。
	•	ユーザーは全質問に回答するか、特定の重要質問のみ回答するかは仕様に応じて調整可能。
	2.	生成AIによる分析ステップ
	•	ユーザー回答を入力プロンプトとして、生成AI（テキスト生成モデル）で分析する。
	•	回答群から、以下の観点でユーザーのテニスプレースタイル・パーソナリティを総合評価する。
	•	攻撃型・守備型・オールラウンダー型・戦術多彩型・リスクテイカーなど
	•	主要な傾向：
	•	「フォアハンド偏重 vs バランス型」
	•	「強打重視 vs 安定重視」
	•	「ネットプレー志向 vs 後方ラリー志向」
	•	「戦術変化対応力（柔軟さ）」
	•	「リスクテイク度合い」
	•	「長期戦 vs 短期決着嗜好」
	•	これらを総合して、いくつかのタイプ名（例：「フォアライトニング・ストライカー」「アジャスティング・タクティシャン」「アイアン・ディフェンダー」など）を定義し、ユーザーの結果に最も合致する1つを割り当てる。
	3.	結果表示ステップ（テキストアウトプット）
	•	ユーザーへ以下を提示する。
	1.	ネーミング（パーソナリティタイプ名）
	•	例：「ラリーの調律師(コントロール・コンダクター)」「スピードクイック・アタッカー」など
	2.	詳細分析コメント
	•	カテゴリーごとの回答傾向を踏まえ、「あなたは強打で相手を押し下げるタイプで、特にサービスゲームで早期決着を好む傾向があります。安定ショットよりもリスクを取って一発で仕留めようとする短期決着志向が見られます。そのため、タイブレークなどプレッシャーがかかる場面でも攻めを緩めず、逆転を狙う際にも強気なプレーで流れを変えることを重視するタイプです。」といった形で出力。
	4.	追加質問ステップ（キャラクター生成用）
	•	テキスト結果の提示後、ユーザーに対し次の追加質問を行う。
	1.	性別の選択（「男」「女」「その他」）
	2.	好きな動物（いくつかの選択肢を提示。例：「ネコ」「イヌ」「ウサギ」「パンダ」「キツネ」など）
	•	これらの回答は、次に行う画像生成AIへのプロンプトに組み込む要素となる。
	5.	画像生成ステップ（別途実行）
	•	上記で判明したユーザーのパーソナリティタイプ名・特徴要素、加えて性別・好きな動物をキーワードに含め、日本のアニメ風、2頭身で可愛らしいテニスキャラクターを画像生成AIにより作成。
	•	画像生成用プロンプト例：
「日本のアニメ風で、2頭身のかわいらしいテニスキャラクターを描いてください。キャラクターは【ユーザーが選んだ性別】で、【ユーザーが選んだ動物（たとえばネコ要素）】をモチーフにしたデザインの要素を取り入れます。
キャラクターは、分析結果に基づき【パーソナリティタイプ名】を象徴するアイコン（例えばラケットに稲妻マーク、様々な色のボールを持つ、など）をさり気なく含めてください。
キャラクターは、強打や柔軟な戦術を好む性格が表れるポーズや表情をしています。背景はテニスコートを示唆する程度に簡略化。明るく元気な配色でお願いします。」

3. 分析ロジック（例示）
	•	カテゴリーごとに回答をスコアリングし、最終的にタイプ判定
	•	攻撃指向回答（「前進攻撃」「強打重視」など）にポイント
	•	守備・安定指向回答（「安定返球」「相手ミス待ち」など）に別ポイント
	•	多彩さ・柔軟性指向回答（「球種変化」「多彩対応」など）に別ポイント
	•	累積ポイントにより、以下のようなタイプ決定
	•	攻撃特化型：攻撃関連回答が最大スコア
	•	守備・粘り特化型：守備・安定回答が最大スコア
	•	戦術多彩型：柔軟・変化志向回答が多い
	•	中庸型：スコアが分散しバランス型
	•	各タイプには対応するタイプ名および一言要約、詳細な解説コメントを用意。

4. ユーザーインターフェース
	•	回答UI：
	•	各質問に対し、1～4の定型回答および5の自由入力欄を提示。
	•	結果表示UI：
	•	テキストでタイプ名・分析コメント表示
	•	「次へ」ボタンで追加質問UIへ遷移
	•	追加質問UI（画像生成前）：
	•	性別選択用ラジオボタン（男/女/その他）
	•	好きな動物選択用プルダウンメニュー
	•	画像生成結果表示UI：
	•	生成されたキャラクター画像表示

5. 技術要件
	•	テキスト生成AI：
	•	質問回答をプロンプトとして、指定フォーマットでタイプ判定および結果文言生成。
	•	画像生成AI：
	•	テキスト生成AIの出力（タイプ名・特徴）、追加質問回答を要素としたプロンプトで画像生成APIを呼び出し。

6. メンテナンス・拡張性
	•	質問や回答選択肢の拡張：
	•	新たなカテゴリー追加や選択肢パターン変更は容易に可能。
	•	タイプ名・分析ロジックの拡張：
	•	新たなプレースタイルタイプや特徴づけを容易に追加可能。
	•	ローカリゼーションや別言語対応：
	•	テキスト出力部分を管理するリソースファイルを用意することで対応。

7. セキュリティ・プライバシー
	•	個人情報は特に取り扱わない。
	•	ユーザー回答は一時的な分析用データとして扱い、長期保存しない、あるいは匿名化など適宜対応。